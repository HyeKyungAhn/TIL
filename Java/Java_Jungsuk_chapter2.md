# 변수(자바의 정석 2장)
## 1. 변수
### 1.1 변수란? 
단 하나의 값을 저장할 수 있는 메모리 공간
### 1.2 변수의 선언과 초기화

- 변수 선언

        int age; //[변수의 타입] [변수 명]

    - 변수 선언 시 메모리에 변수의 타입에 맞는 저장공간 확보
    - 변수 명으로 메모리 공간에 접근 가능
</br></br>
- 변수의 초기화
        
        int age = 10;

    변수를 사용하기 전 처음으로 값을 저장(메모리는 공유 자원이기 때문에 알 수 없는 값이 남아있을 수 있음)

### 1.3 변수의 명명 규칙
- 대소문자 구분하고 길이 제한 없음
- 숫자로 시작할 수 없음
- 특수문자는 _와 $만 사용 가능
- 예약어 사용 불가
### 1.4 변수 컨벤션
- 클래스 이름의 첫글자는 반드시 대문자
- 변수는 Camel case
- 상수의 이름은 모두 대문자이며 여러단어일 경우 _로 구분
</br></br>

## 2. 변수의 타입
- 공간 크기와 저장 형식에 따라 변수의 타입이 달라진다
- 크게 기본형과 참조형으로 나뉜다

### 2.1 기본형
|분류|1 byte|2 byte|4 byte|8 byte|기본형|
|----|----|----|----|----|----|
|논리형|boolean|-|-|-|-|
|문자형|-|char|-|-|-|
|정수형|byte|short|int|long|**int**|
|실수형|-|-|float|double|**double**|

### 2.2 상수와 리터럴
#### **상수**
한 번 값을 저장하면 변경할 수 없는 저장공간

        final int REQUEST_SUCCESS;
- 상수가 필요한 이유는 리터럴에 의미있는 이름을 붙여 코드의 이해를 돕기 때문이다.
#### **리터럴**
값 그 자체를 뜻한다. ex ) 1, 'A', ...
- 리터럴의 타입과 접미사
    
    리터럴에 타입이 있기 때문에 저장공간인 변수에 타입이 있는 것이다.

    - 정수형과 실수형에 여러 타입의 리터럴이 있기 때문에 접미사를 붙여 타입을 구별한다
    - 정수형이는 long타입의 리터럴을 뜻하는 접미사 l or L이, 실수형에는 float(f or F), double(d or D)가 있다
    - double의 접미사는 생략 가능하다
    - 10진수 뿐만 아니라 2,8,16진수도 변수에 저장할 수 있다(단, 각 진수를 구별하는 접두사 0b,0,0x를 붙여야한다 / 2진수는 JDK 1.7 이후부터)
    - 리터럴에 소수점, e(지수), f/F, d/D를 포함하면 실수로 간주
- JDK1.7이후부터 정수형 리터럴의 중간에 구분자 -를 넣을 수 있다

#### 타입의 불일치
나중에 형변환에서 다룸

#### 문자 리터럴과 문자열 리터럴
- 문자 리터럴
    
    - 반드시 ''안에 하나의 문자만 있어야한다
</br></br>
- 문자열 리터럴

    - 빈문자열("") 가능 
    - 어떤 타입의 변수도 문자열과 덧셈 연산을 하면 결과는 문자열(당연히 null, boolean 포함, 왼 > 오 방향으로 연산)

### 2.3 형식화된 출력 - printf()
헷갈리는 것 하나만 기역하자 %f는 기본적으로 소수점 아래 6까지만 출력하고, 7자리의 수를 반올림한다.
</br></br>

## 3. 진법

### 3.1 10진법과 2진법
- 대부분의 컴퓨터는 2진 체계
- 10진수를 2진수로 표현하는 게 자릿수가 많이 늘기는 하지만 표현할 수는 있음

### 3.2 bit & byte
- bit 
    - 컴퓨터에서 한 자리의 2진수를 의미
    - 컴퓨터가 값을 저장할 수 있는 최소단위
</br>
- byte
    - 8bit
</br>
- word
    - 컴퓨터가 한 번에 처리할 수 있는 단위
    - CPU의 성능에 따라 다름(32bit CPU의 1 word = 32bit)
</br>
- n 비트로 표현할 수 있는 10진수
    - 값의 개수 : 2<sup>n</sup>
    - 값의 범위 : 0 ~ 2<sup>n</sup>-1

### 3.3 8진법과 16진법
8진수는 2진수 3자리, 16진수는 2진수 4자리를 한자리로 표현할 수 있어 자리수를 줄일 수 있다는 장점이 있다. 2진수와 8, 16진수간 변환도 쉽다.

나머지는 책에서
## 4. 기본형
### 4.1 논리형 - boolean
- true or false
- 크기는 1byte(1 bit로 충분하지만, 자바 데이터의 최소 단위가 1byte)

### 4.2 문자형 - char
- 단 하나만의 문자를 저장할 수 있다
- 사실 변수에 문자가 아닌 정수(유니코드)가 저장됨 (유니코드 직접 저장 가능)
- 크기는 2 byte
- 정수와 달리 음수 범위가 필요 없으므로 0 ~ 2<sup>n</sup>-1의 범위를 가짐
- 표현 범위를 같은 크기의 정수형 short와 비교해보자

    short : -2<sup>n-1</sup> ~ 2<sup>n-1</sup>-1 (-32768 ~ 32767)

    short : 0 ~ 2<sup>n</sup>-1 (0 ~ 65535)

        public class Main{
            public static void main(String[] args) {
                char a = 65;
                short b = 65;
                System.out.println(a); //A
                System.out.println(b); //65
            }
        }

    같은 값을 저장하고 있는데, 타입에 따라 다른 값을 출력한다. **값은 값만으로 해석할 수 없다. 반드시 타입을 알아야한다.**

#### 인코딩과 디코딩
컴퓨터는 숫자밖에 모르기 때문에 사람이 이해할 수 있는 문자나 기호를 숫자로 변환해야한다. 이 떄
- 문자를 코드(숫자)로 변환하는 것을 인코딩
- 코드를 문자로 다시 변환하는 것을 디코딩이라고 한다
- 당연하지만, 인코딩을 알아야 디코딩을 할 수 있다

인코딩과 디코딩은 내가 모스 부호표를 보고 문자를 점 선으로 암호문을 만들고 암호를 다시 표를 보고 문자로 해석하는 것처럼 숫자와 문자로 된 표를 보고 암호화하고 해독하는 것과 같다.

- ASCII, Extended ASCII, code page, unicode

</br>

### 4.3 정수형
<details>
<summary>Q. 정수형의 표현 범위?</summary>
<div markdown = 1>

- n비트로 표현할 수 있는 정수의 개수 : 2<sup>n</sup>개
- 부호가 있는 정수의 표현 범위 : -2<sup>n-1</sup>~2<sup>n-1</sup>-1개
    </div>
</details>

<details>
<summary>Q. 정수의 선택 기준은?</summary>
<div markdown = 1>

- 정수형 변수 사용 시 int로
    - JVM의 피연산자 스택(stack)이 연산 시에 피연산자를 4 byte 단위로 저장함. 4 byte 미만의 값은 4 byte로 변환하기 때문에 비효율적
- int의 범위 초과가 염려된다면 long 
- 능보다 메모리가 더 중요하다면 byte, short로
    </div>
</details>

<details>
<summary>Q. 정수가 오버플로우 된다면?</summary>
<div markdown = 1>

- 최대값 + 1 -> 최소값
- 최소값 - 1 -> 최대값
    - 오버플로우가 발생해서 에러가 나는게 아니라, 계속 순환
    - 부호있는 정수일 떄는 부호가 바뀐다
    </div>
</details>

</br>

### 4.4 실수형

<details>
<summary>Q. 실수의 범위와 정밀도는?(정밀도만!)</summary>
<div markdown = 1>

|타입|저장가능한 값의 범위|정밀도|bit|byte|
|-----|---------|-----|-----|-----|
|float|1.4 * 10<sup>-45</sup> ~ 3.4*10<sup>38</sup>|7자리|32|4|
|double|4.9 * 10<sup>-324</sup> ~ 1.8*10<sup>308</sup>|15자리|64|8|

- 위는 양의 범위, 각 범위에 -만 붙이면 음의 범위이다
- 각 범위는 연속되지 않는다. 0을 중심으로 대칭을 이룸
- 오차가 있을 수 있다는 단점이 있다
- double은 표현범위보다 정밀도가 높아 쓰는 경우가 많다
- 정밀도는 **7, 15자리의 10진수를 오차없이 저장할 수 있다**는 의미이다.
</div>
</details>

<details>
<summary>Q. 실수형의 저장방식은?</summary>
<div markdown = 1>

- 지수(e), 가수(M), 부호로 부동 소수점수 형태로 표현하여 정수의 표현범위보다 훨씬 넓은 것
    - 부호: 2의 보수법을 사용하여 부호를 표시하지 않아 부호가 0이면 양수, 1이면 음수이다
    - 더 자세히는 책보자
</div>
</details>

<details>
<summary>Q. 부동소수점은 오차가 왜 발생하는가?</summary>
<div markdown = 1>

- 실수에 무한소수가 존재해서
- 10진수로 유한소수라도 2진수로 표현할 떄 무한소수가 될 수 있다
- 유한소수라도 가수의 표현범위를 넘으면 24자리 이상의 값이 버려지고 24자리의 값이 반올림이 되서
    - float의 최대 오차 2<sup>-23</sup>(24자리에서 반올림 된 값)
</div>
</details>

</br>

## 5. 형변환
<details>
<summary>Q. 형변환이란?</summary>
<div markdown = 1>

- 변수 또는 상수의 타입을 다른 타입으로 변환하는 것
- boolean을 제외하고 기본형은 서로의 타입으로 형변환할 수 있다
</div>
</details>

<details>
<summary>Q. 형변환 방법?</summary>
<div markdown = 1>

- 상수나 변수 앞에 형변환 연산자를 사용

        (int) age;

</div>
</details>

<details>
<summary>Q. 정수간 형변환의 특징?</summary>
<div markdown = 1>

- 큰 타입 -> 작은 타입
    - 차이만큼 값이 잘려나간다
- 작은 타입 -> 큰 타입
    - 값 손실 x, 빈공간은 0 또는 1로(부호에 따라) 대체됨
</div>
</details>

<details>
<summary>Q. 실수간 형변환의 특징?</summary>
<div markdown = 1>

- float -> double
    
    1. 지수에서 float의 기저인 127을 뺴고 double의 기저인 1023을 더한다
    2. 가수를 float의 가수로 채우고 남은 자리를 0으로 채움
- double -> float
    1. 지수에서 double의 기저인 1023을 뺴고 float의 기저인 127을 더한다
    2. double의 가수 52자리 중 23자리만 남기고 다 버림
    - 24자리가 1인 경우 반올림 발생할 수 있다

- float의 범위를 넘는 수가 float에 저장되면 무한대 또는 0이 된다.
</div>
</details>

<details>
<summary>Q. 정수형을 실수형으로 어떻게 변환하나?</summary>
<div markdown = 1>

- 정수를 2진수로 변환하고, 정규화(부호, 가수, 지수)를 거쳐 저장된다
- 실수가 더 커서 변환하는데 무리는 없다
- 다만 오차가 발생할 수 있다. 정밀도가 있기 때문이다. int 형으로 10억을 float으로 변환하면 오차가 생긴다.
</div>
</details>

<details>
<summary>Q. 실수형을 정수형으로 어떻게 변환하나?</summary>
<div markdown = 1>

- 실수형의 소수점 이하의 값은 버려짐
</div>
</details>

<details>
<summary>Q. 자동형변환이 뭐지?</summary>
<div markdown = 1>

- 형변환을 생략하는 것
- 표현범위가 적은 쪽에서 큰 쪽으로 변환할 떄는 생략할 수 있다
- 그 반대는 값손실이 발생하므로 캐스팅 연산자를 명시하여 개발자의 의도임을 컴파일러에게 알려야한다
- 컴파일러가 자동으로 형변환을 붙여준다
</div>
</details>

<details>
<summary>Q. 자동형변환의 규칙은?</summary>
<div markdown = 1>

- 기존의 값을 최대한 보존하는 타입으로 형변환된다(= 표현범위가 더 넓은 쪽으로)
</div>
</details>